<div class="settings-container">
  <mat-tab-group [animationDuration]="0" class="settings-tab-group">
    <mat-tab label="Colors">
      <div class="settings-tab">
        <color-input
          label="Color"
          [defaultColor]="qrDataService.qrColor()"
          (colorChanged)="handleColorChange($event)"
        ></color-input>
        <mat-divider></mat-divider>
        <color-input
          label="Background"
          [defaultColor]="qrDataService.qrBackground()"
          (colorChanged)="handleBackgroundChange($event)"
        ></color-input>
        <mat-divider></mat-divider>
        <div class="flex-aroud">
          <mat-slide-toggle
            class="tranparency-btn"
            [checked]="qrDataService.qrTransparent()"
            (change)="toggleTransparent()"
            labelPosition="before"
          >
            <p class="tranparency-btn-label">Transparent</p>
          </mat-slide-toggle>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Style">
      <color-input
        label="Primary"
        [defaultColor]="doc.getPropertyValue('--primary-color')"
        (colorChanged)="doc.setProperty('--primary-color', $event)"
      ></color-input>
      <mat-divider></mat-divider>
      <color-input
        label="Secondary"
        [defaultColor]="doc.getPropertyValue('--secondary-color')"
        (colorChanged)="doc.setProperty('--secondary-color', $event)"
      ></color-input>
      <mat-divider></mat-divider>
      <div class="flex-aroud">
        <span>Padding</span>
        <mat-slider min="0" max="20" step="1">
          <input
            matSliderThumb
            [value]="qrDataService.qrMargin()"
            (valueChange)="qrDataService.qrMargin.set($event)"
          />
        </mat-slider>
      </div>
    </mat-tab>
    <mat-tab label="Logo">
      <div class="flex-aroud">
        <span>Upload</span>
        @if (qrDataService.qrIconName() || qrDataService.qrIcon()) {
        <button class="file-upload-btn" mat-flat-button (click)="resetIcon()">
          {{ qrDataService.qrIconName() }}<br />
          <mat-icon>delete</mat-icon>
        </button>
        } @else {
        <button
          class="file-upload-btn"
          mat-flat-button
          (click)="fileInput.click()"
        >
          {{ "Img" }}
          <mat-icon>upload</mat-icon>
        </button>
        }
        <input #fileInput type="file" (change)="addImage($event)" />
      </div>
      <mat-divider></mat-divider>
      <div class="flex-aroud">
        <span>Size</span>
        <mat-slider min="5" max="50" step="1">
          <input
            matSliderThumb
            [value]="qrDataService.qrIconSize()"
            (valueChange)="qrDataService.qrIconSize.set($event)"
          />
        </mat-slider>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
