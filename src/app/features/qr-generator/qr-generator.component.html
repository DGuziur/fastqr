<div class="flex-container">
  <div #qr>
    <nz-qrcode
      [nzColor]="qrColor()"
      [nzValue]="qrValue()"
      [nzLevel]="qrLevel()"
      [nzIcon]="qrIcon()"
      [nzSize]="200"
    ></nz-qrcode>
    <a #download></a>
  </div>

  <nz-color-picker
    nzShowText
    [nzValue]="qrColor()"
    (nzOnChange)="handleColorChange($event)"
  ></nz-color-picker>
</div>

<nz-segmented
  nzBlock
  [nzOptions]="errorCodeLevels"
  (nzValueChange)="handleErrorCodeLevelChange($event)"
></nz-segmented>

<textarea
  #qrTextarea
  nz-input
  nzAutosize
  [value]="qrValue()"
  (input)="handleTextareaChange(qrTextarea.value)"
></textarea>

<div class="file-upload-container">
  <label for="fileInput" class="file-upload" [class.uploaded]="qrIconName()">
    {{ qrIconName() || "Upload icon" }}
  </label>
  <input id="fileInput" type="file" (change)="addImage($event)" />
  @if (qrIconName() || qrIcon()) {
  <button class="file-upload-deletebtn" nz-button (click)="resetIcon()">
    <span nz-icon nzType="delete"></span>
  </button>
  }
</div>

<div class="button-container">
  <button nz-button (click)="downloadQR()">Download</button>
  <button
    nz-button
    [nz-tooltip]="isCurrentlyCopied() ? 'Copied!' : 'Copy to clipboard'"
    nzTooltipPlacement="bottom"
    (click)="copyToClipboard()"
  >
    Copy
  </button>
</div>
