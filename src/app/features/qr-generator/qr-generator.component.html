<div class="flex-container">
  <canvas #canvas></canvas>
  <a #download></a>
</div>
<mat-card class="theme-violet">
  <segmented
    class="segmented"
    [options]="errorCodeLevels"
    (optionChanged)="handleErrorCodeLevelChange($event)"
  ></segmented>

  <div class="button-container">
    <button class="download-btn" mat-mini-fab extended (click)="downloadQR()">
      Download
      <mat-icon>download</mat-icon>
    </button>
    <button
      mat-mini-fab
      matTooltip="Copy to clipboard"
      (click)="copyToClipboard()"
    >
      <mat-icon>content_copy</mat-icon>
    </button>
    <button mat-mini-fab matTooltip="Save to history" (click)="saveQR()">
      <mat-icon>save</mat-icon>
    </button>
  </div>

  <textarea
    #qrTextarea
    class="qr-textarea"
    placeholder="Enter URL"
    [value]="qrDataService.qrValue()"
    (click)="qrTextarea.select()"
    (input)="handleTextareaChange(qrTextarea.value)"
  ></textarea>

  <!-- <div class="upload">
    @if (qrDataService.qrIconName() || qrDataService.qrIcon()) {
    <button class="file-upload-deletebtn" mat-flat-button (click)="resetIcon()">
      {{ qrDataService.qrIconName() }}<br />
      <mat-icon>delete</mat-icon>
    </button>
    } @else {
    <button (click)="fileInput.click()" mat-flat-button>
      {{ "Img" }}
      <mat-icon>upload</mat-icon>
    </button>
    }
    <input #fileInput id="fileInput" type="file" (change)="addImage($event)" />
  </div> -->

  <!-- <button mat-mini-fab (click)="handleToggleTransparency()">
    @if (qrDataService.qrTransparent()) {
    <mat-icon>visibility</mat-icon>
    } @else {
    <mat-icon>visibility_off</mat-icon>
    }
  </button> -->
  <qr-settings (imageChanged)="placeImg()"></qr-settings>
</mat-card>
