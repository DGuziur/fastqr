<div class="flex-container">
  <!-- <div #qr>
    <nz-qrcode
      [nzColor]="qrColor()"
      [nzValue]="qrValue()"
      [nzLevel]="qrLevel()"
      [nzIcon]="qrIcon()"
      [nzSize]="200"
    ></nz-qrcode>
    <a #download></a>
  </div> -->
  <qr-component
    [color]="qrColor()"
    [value]="qrValue()"
    [level]="qrLevel()"
    [icon]="qrIcon()"
    [size]="200"
  >
  </qr-component>

  <input
    type="color"
    name="color"
    id="color"
    (input)="handleColorChange($event)"
  />
</div>

<segmented
  class="segmented"
  [options]="errorCodeLevels"
  (optionChanged)="handleErrorCodeLevelChange($event)"
></segmented>

<textarea
  #qrTextarea
  class="qr-textarea"
  [value]="qrValue()"
  (click)="qrTextarea.select()"
  (input)="handleTextareaChange(qrTextarea.value)"
></textarea>

<div class="file-upload-container">
  <label for="fileInput" class="action-btn" [class.uploaded]="qrIconName()">
    {{ qrIconName() || "Upload icon" }}
  </label>
  <input id="fileInput" type="file" (change)="addImage($event)" />
  @if (qrIconName() || qrIcon()) {
  <button class="file-upload-deletebtn" nz-button (click)="resetIcon()">
    <span nz-icon nzType="delete"></span>
  </button>
  }
</div>

<div class="button-container">
  <button class="action-btn" (click)="downloadQR()">Download</button>
  <button class="action-btn" (click)="copyToClipboard()">Copy</button>
</div>
